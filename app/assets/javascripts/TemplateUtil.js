///////////////////////////////////////////////////////////
//  TemplateUtil
//  Backbone Javascript
//  Generated by TextMate
//  Created 2013-01-23
//  Author TODD JOHNSON
//  Copyright (c) 2013 Free Stream Media Corporation. All rights reserved.
///////////////////////////////////////////////////////////

(function(window) {

    // Constructor
    function TemplateUtil() {}
    
    TemplateUtil.path = '/assets'
    
    // Navigation Public Methods
    TemplateUtil.render = function(tmpl_name, tmpl_data) {
        if ( !$.cache ) { 
            $.cache = {};
        }
        
        if ( ! $.cache[tmpl_name] ) {
            var tmpl_url = TemplateUtil.path + '/' + tmpl_name + '.html';
            
            var tmpl_string;
            $.ajax({
                url: tmpl_url,
                method: 'GET',
                async: false,
                success: function(data) {
                    tmpl_string = data;
                }
            });
            
            $.cache[tmpl_name] = _.template(tmpl_string);
        }
        
        return $.cache[tmpl_name](tmpl_data);
    }
    
    // Scope Helper
    window.TemplateUtil = TemplateUtil;
}(window))